}
###################################################
## Parsing Patient Results Once Prediction is done
###################################################
cohortTractablePhenos<-unique(cohortTractablePhenos)##Phenos that have appeared on the patients, and that we can predict impact
##For the phenos that appear in the patients
cohort_results<-cohortResults_Parser(minScore = minScore, all_patientResults = all_patientResults,
consideredPheno = cohortTractablePhenos,
discardRelevantByBrokenGene = FALSE,
AllPatientsInfo = AllPatientsInfo)
#########################################
## Generating HTML from Parsed results
#########################################
multiple_patientResults$html_recurrency<-multipleStats_htmlGeneration(cohort_results = cohort_results,
consideredPheno = cohortTractablePhenos,
ids_append="",##no append, for previous "previous pat"
AllPatientsInfo = AllPatientsInfo,
explPreviousPatSection = FALSE)
})
##The waiter will be closed upon mail submission, at that point input panel is displayed again
runjs(
##"document.getElementsByClassName('wrapperMainSingleResults')[0].style.visibility='hidden';"##With this we would just modify one instance of the class
##With the for, all elements belonging to the class change their status. With visibility hidden the space of the div is not erased
"for (let el of document.querySelectorAll('.patientInputPanel')) el.style.display = 'grid';"
)
##Stoping waiter
remove_modal_spinner()
#############################################################################
#############################################################################
##anyadir resultados de pacientes para los tests, para ver que el correo depende del input
multiple_patientResults$patientSpecificResults<-all_patientResults
return(multiple_patientResults)
})
############################################
## Sending HTML Multiple Results by mail with parsed results
############################################
##For now Deprecated
##The reactive event, where multiple patients analyzed, is executed before sending the mail
#If eventExpr=input$clickMultiple, the msg attempts to be sent before the reactive event -> error
# observeEvent(eventExpr = multiple_patientResults(),
#              handlerExpr = {
#   isolate({
#     sendingMail(msg = "N patients parsed: ", multiple_patientResults = multiple_patientResults())
#
#   })
#  runjs(
#  ##"document.getElementsByClassName('wrapperMainSingleResults')[0].style.visibility='hidden';"##With this we would just modify one instance of the class
#  ##With the for, all elements belonging to the class change their status. With visibility hidden the space of the div is not erased
#  "for (let el of document.querySelectorAll('.patientInputPanel')) el.style.display = 'grid';"
#  )
#
#  ##Stoping waiter
#  remove_modal_spinner()
#
# })
#######################################################
## Managing, creating Output for Multiple Submission
#######################################################
output$master_multipleStats<-renderUI(HTML(multiple_patientResults()$html_recurrency))
}
s<-shinyApp(ui = ui, server = server)
profvis({s})
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
?profvis_server()
profvis({
g<-sum(500+1)
print(g)
})
?profvis
profvis({
dat <- data.frame(
x = rnorm(5e4),
y = rnorm(5e4)
)
plot(x ~ y, data = dat)
m <- lm(x ~ y, data = dat)
abline(m, col = "red")
})
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
shiny::runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
textInput(inputId = "bp1_coord",
label = "Breakpoint 1 coordinates (coord1,coord2 if interval)",
value = "10355280")
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
wellPanel(selectInput(inputId = "typeSV", label = "Structural Variant type",
choices = c("Deletion","Duplication","Inversion","Translocation"),
selected = "Inversion"))
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
runApp('Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app')
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
##############################################################
## Preparing patients data for software Multiple Screening
## And storing dataframe in the app
##############################################################
##Adapted from:~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_LocalAnalysis/MultiplePatientAnalysis/obsolete/preparingPatientsData/1_PreparingMatrixForMultipleParsing.R
##Excluding enhanceropathies from table 1 and 2 from manuscript.
#################################
## Pacientes REDIN
#################################
##The genomic landscape of balanced cytogenetic abnormalities associated with human congenital anomalies
##Este objeto viene de script:
## ~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/pacientesDatos/redin_BCAs/4_ConstructingPatientFiles_ForSoftwarePrediction.R
load(file = "/home/victor/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/redinPaper/Redin_paper.RData")
redinPatientsInformation$source<-"PMID:27841880"
#########################
## Pacientes Middelkamp
#########################
#Prioritization of genes driving congenital phenotypes of patients with de novo genomic structural variants
##Load Middelkamp Cohort Data
load("/home/victor/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/Middelkamp.RData")
middelkamp_breakp$source<-"PMID:31801603"
########################
## All patients info
########################
AllPatientsInfo<-rbind(redinPatientsInformation, middelkamp_breakp)
##Removing those that have breakpoints falling in Y chromosome, because rise errors
##For some datasets, eg TADs we do not have breakpoints for Y chromosome, I think. So thats why errors rised
##Keeping patietns with both breakpoints different than chrY
AllPatientsInfo<- subset(AllPatientsInfo, chr_Break1 != "chrY" & chr_Break2 != "chrY" )
save(AllPatientsInfo,
file = "/home/victor/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
#######################################
##SAVING DATAFRAME ALSO IN THE APP
#######################################
save(AllPatientsInfo,
file = "/home/victor/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/data/patientTables/AllPatientsInfo.RData")
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
?trimws
?grepl
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
####################################################################
## Script for HTML generation for Web with Patients Cohort Study
####################################################################
##Use maybe the Standard info only
##Loading Standard Mode PARSED results
load(file = "~/Dropbox/Cantabria/PhD_Project/Resultados/softwareObjects/multiplePatientAnalysis/StandardMode_ParsedResults_MultiplePatientAnalyses.RData")
########################################
##HTML generation with cohort results
########################################
###Setwd in the folder where all the app info is hosted
setwd("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app")
##Required functions
source("functions/multiple_SV_Functions/multipleStats_ExplorePreviousPat_htmlGeneration.R")
##AllPatientsInfo table, required for the Patients Info section
load("~/Dropbox/Cantabria/PhD_Project/DatosPHD/fichasPacientes/AllPatientsInfo.RData")
##Phenotypes to be considered
consideredPheno<-c("head_neck",
"cardiovascular",
"limbs",
"neurodevelopmental")##As more phenos considered they will appear here
ExplorePreviousPatients_html<-multipleStats_htmlGeneration(cohort_results = cohort_results_standard,
consideredPheno = consideredPheno,
ids_append="PreviousPat",##to avoid conflicts with tables generated in multiples submission option
AllPatientsInfo=AllPatientsInfo,
explPreviousPatSection = TRUE)
###########################################################################################
##This is the html that is going to be loaded on the Explore Previous Patients Section
##Wrapp in html tags to avoid issues AND save html
###########################################################################################
ExplorePreviousPatients_html<-paste("<html><body>",
ExplorePreviousPatients_html,
"</body></html>",
sep="")
fileConn<-file("~/Dropbox/Cantabria/PhD_Project/ScriptsPhd/ScriptsParaUsoLocal/SV_app/html_scripts/ExplorePreviousPatients.html")
writeLines(ExplorePreviousPatients_html, fileConn)
close(fileConn)
shiny::runApp()
runApp()
